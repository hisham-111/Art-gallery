{"ast":null,"code":"var _jsxFileName = \"/home/hisham7/Desktop/FakeClient/frontend/src/route/admin/admin.js\";\nimport \"./admin.css\";\nimport React from \"react\";\nimport Dashboard from \"../../pages/dashboard/dashboard\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.isLoggedIn = () => {\n      axios.get(`${process.env.REACT_APP_URL}/user/is-logged-in`, {\n        headers: {\n          auth_token: cookie.load(\"auth_token\")\n        }\n      }).then(response => {\n        if (response.data.role === \"admin\") {\n          this.setState({\n            isLoggedIn: true\n          });\n        } else {\n          this.setState({\n            isLoggedIn: false\n          });\n        }\n      }).catch(error => {\n        if (error.response === undefined) {\n          this.setState({\n            isLoggedIn: false\n          });\n        } else {\n          this.setState({\n            isLoggedIn: false\n          });\n        }\n      });\n    };\n    this.state = {\n      isLoggedIn: false\n    };\n  }\n  componentDidMount() {\n    this.isLoggedIn();\n  }\n  render() {\n    let loggedIn = this.state.isLoggedIn;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: loggedIn ? /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"admin-unauthorised\",\n        children: \"Unauthorised Access!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 46\n      }, this)\n    }, void 0, false);\n  }\n}\nexport default Admin;","map":{"version":3,"names":["React","Dashboard","axios","cookie","Admin","Component","constructor","props","isLoggedIn","get","process","env","REACT_APP_URL","headers","auth_token","load","then","response","data","role","setState","catch","error","undefined","state","componentDidMount","render","loggedIn"],"sources":["/home/hisham7/Desktop/FakeClient/frontend/src/route/admin/admin.js"],"sourcesContent":["import \"./admin.css\"\nimport React from \"react\";\nimport Dashboard from \"../../pages/dashboard/dashboard\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\n\nclass Admin extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoggedIn: false,\n        };\n    }\n\n    componentDidMount() {\n        this.isLoggedIn();\n    }\n    isLoggedIn = () => {\n        axios\n            .get(`${process.env.REACT_APP_URL}/user/is-logged-in`, {\n                headers: { auth_token: cookie.load(\"auth_token\") },\n            })\n            .then((response) => {\n                if (response.data.role === \"admin\") {\n                    this.setState({ isLoggedIn: true });\n                } else {\n                    this.setState({ isLoggedIn: false });\n                }\n            })\n            .catch((error) => {\n                if (error.response === undefined) {\n                    this.setState({ isLoggedIn: false });\n                } else {\n                    this.setState({ isLoggedIn: false });\n                }\n            });\n    };\n\n    render() {\n        let loggedIn = this.state.isLoggedIn;\n        return <>{loggedIn ? <Dashboard /> : <h1 className=\"admin-unauthorised\">Unauthorised Access!</h1>}</>;\n    }\n}\n\nexport default Admin;\n"],"mappings":";AAAA,OAAO,aAAa;AACpB,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,iCAAiC;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,eAAe;AAAC;AAAA;AAEnC,MAAMC,KAAK,SAASJ,KAAK,CAACK,SAAS,CAAC;EAChCC,WAAW,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KASjBC,UAAU,GAAG,MAAM;MACfN,KAAK,CACAO,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,aAAc,oBAAmB,EAAE;QACnDC,OAAO,EAAE;UAAEC,UAAU,EAAEX,MAAM,CAACY,IAAI,CAAC,YAAY;QAAE;MACrD,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAK;QAChB,IAAIA,QAAQ,CAACC,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;UAChC,IAAI,CAACC,QAAQ,CAAC;YAAEZ,UAAU,EAAE;UAAK,CAAC,CAAC;QACvC,CAAC,MAAM;UACH,IAAI,CAACY,QAAQ,CAAC;YAAEZ,UAAU,EAAE;UAAM,CAAC,CAAC;QACxC;MACJ,CAAC,CAAC,CACDa,KAAK,CAAEC,KAAK,IAAK;QACd,IAAIA,KAAK,CAACL,QAAQ,KAAKM,SAAS,EAAE;UAC9B,IAAI,CAACH,QAAQ,CAAC;YAAEZ,UAAU,EAAE;UAAM,CAAC,CAAC;QACxC,CAAC,MAAM;UACH,IAAI,CAACY,QAAQ,CAAC;YAAEZ,UAAU,EAAE;UAAM,CAAC,CAAC;QACxC;MACJ,CAAC,CAAC;IACV,CAAC;IA3BG,IAAI,CAACgB,KAAK,GAAG;MACThB,UAAU,EAAE;IAChB,CAAC;EACL;EAEAiB,iBAAiB,GAAG;IAChB,IAAI,CAACjB,UAAU,EAAE;EACrB;EAsBAkB,MAAM,GAAG;IACL,IAAIC,QAAQ,GAAG,IAAI,CAACH,KAAK,CAAChB,UAAU;IACpC,oBAAO;MAAA,UAAGmB,QAAQ,gBAAG,QAAC,SAAS;QAAA;QAAA;QAAA;MAAA,QAAG,gBAAG;QAAI,SAAS,EAAC,oBAAoB;QAAA,UAAC;MAAoB;QAAA;QAAA;QAAA;MAAA;IAAK,iBAAI;EACzG;AACJ;AAEA,eAAevB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}