{"ast":null,"code":"var _jsxFileName = \"/home/hisham7/Desktop/FakeClient/frontend/src/components/dashboard_gallery/dashboard_gallery.js\";\nimport \"./dashboard_gallery.css\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ArtSectionHome extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paintings_home: [],\n      isLoaded: false,\n      title: \"\",\n      description: \"\",\n      added: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount() {\n    const paintingData = async () => {\n      const response = await axios.get(`${process.env.REACT_APP_URL}/painting`);\n      const json = await response;\n      this.setState({\n        paintings_home: json.data.response,\n        isLoaded: true\n      });\n    };\n    paintingData();\n  }\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  handleSubmit(event) {\n    let formData = new FormData();\n    let imagefile = document.querySelector(\"#file\");\n    formData.append(\"image\", imagefile.files[0]);\n    formData.append(\"title\", this.state.title);\n    formData.append(\"description\", this.state.description);\n    event.preventDefault();\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_URL}/painting`,\n      data: formData,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        auth_token: cookie.load(\"auth_token\")\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        this.setState({\n          added: true\n        });\n        const paintingData = async () => {\n          const response = await axios.get(`${process.env.REACT_APP_URL}/painting`);\n          const json = await response;\n          this.setState({\n            paintings_home: json.data.response,\n            isLoaded: true\n          });\n        };\n        paintingData();\n      }\n      console.log(response);\n    }).catch(error => {\n      if (error.response === undefined) {\n        this.setState({\n          err: error.message\n        });\n      } else {\n        this.setState({\n          err: error.response.data\n        });\n      }\n    });\n  }\n  render() {\n    const paintings_home = this.state.paintings_home;\n    let {\n      isLoaded\n    } = this.state;\n    let {\n      added\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"home_art_body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"home_art_head_title\",\n        children: \"Art Gallery\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), added ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dashboard-gallery-added\",\n        children: \"Image Added!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login_input_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"login_label\",\n            children: \"Title \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"login_Input\",\n            type: \"text\",\n            name: \"title\",\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login_input_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"login_label\",\n            children: \"Description \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"login_Input\",\n            type: \"text\",\n            name: \"description\",\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login_input_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"login_label\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"login_Input\",\n            type: \"file\",\n            name: \"image\",\n            id: \"file\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login_button_container\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"login_button\",\n            type: \"submit\",\n            value: \"Add Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home_art_parent\",\n        children: !isLoaded ? /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this) : paintings_home.map(paint => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home_art_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"home_art_img_container\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"home_art_img\",\n              src: `${process.env.REACT_APP_URL}/uploads/${paint.image}`,\n              alt: paint.description,\n              width: 400\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"home_art_title\",\n              children: paint.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"home_art_paragraph\",\n              children: paint.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"\",\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 33\n          }, this)]\n        }, paint._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ArtSectionHome;","map":{"version":3,"names":["React","axios","cookie","ArtSectionHome","Component","constructor","props","state","paintings_home","isLoaded","title","description","added","handleChange","bind","handleSubmit","componentDidMount","paintingData","response","get","process","env","REACT_APP_URL","json","setState","data","event","target","name","value","formData","FormData","imagefile","document","querySelector","append","files","preventDefault","method","url","headers","auth_token","load","then","status","console","log","catch","error","undefined","err","message","render","map","paint","image","_id"],"sources":["/home/hisham7/Desktop/FakeClient/frontend/src/components/dashboard_gallery/dashboard_gallery.js"],"sourcesContent":["import \"./dashboard_gallery.css\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport cookie from \"react-cookies\";\n\nclass ArtSectionHome extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            paintings_home: [],\n            isLoaded: false,\n            title: \"\",\n            description: \"\",\n            added: false,\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        const paintingData = async () => {\n            const response = await axios.get(`${process.env.REACT_APP_URL}/painting`);\n            const json = await response;\n            this.setState({ paintings_home: json.data.response, isLoaded: true });\n        };\n        paintingData();\n    }\n\n    handleChange(event) {\n        this.setState({ [event.target.name]: event.target.value });\n    }\n\n    handleSubmit(event) {\n        let formData = new FormData();\n        let imagefile = document.querySelector(\"#file\");\n\n        formData.append(\"image\", imagefile.files[0]);\n        formData.append(\"title\", this.state.title);\n        formData.append(\"description\", this.state.description);\n        event.preventDefault();\n        axios({\n            method: \"post\",\n            url: `${process.env.REACT_APP_URL}/painting`,\n            data: formData,\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n                auth_token: cookie.load(\"auth_token\"),\n            },\n        })\n            .then((response) => {\n                if (response.status === 200) {\n                    this.setState({ added: true });\n                    const paintingData = async () => {\n                        const response = await axios.get(\n                            `${process.env.REACT_APP_URL}/painting`\n                        );\n                        const json = await response;\n                        this.setState({\n                            paintings_home: json.data.response,\n                            isLoaded: true,\n                        });\n                    };\n                    paintingData();\n                }\n                console.log(response);\n            })\n            .catch((error) => {\n                if (error.response === undefined) {\n                    this.setState({ err: error.message });\n                } else {\n                    this.setState({ err: error.response.data });\n                }\n            });\n    }\n\n    render() {\n        const paintings_home = this.state.paintings_home;\n        let { isLoaded } = this.state;\n        let { added } = this.state;\n        return (\n            <section className=\"home_art_body\">\n                <h2 className=\"home_art_head_title\">Art Gallery</h2>\n\n                {\n                    added ? (\n                        <h1 className=\"dashboard-gallery-added\">Image Added!</h1>\n                    ) : (\n\n                        <form onSubmit={this.handleSubmit}>\n                            <div className=\"login_input_container\">\n                                <label className=\"login_label\">Title </label>\n                                <input\n                                    className=\"login_Input\"\n                                    type=\"text\"\n                                    name=\"title\"\n                                    onChange={this.handleChange}\n                                    required\n                                />\n                            </div>\n                            <div className=\"login_input_container\">\n                                <label className=\"login_label\">Description </label>\n                                <input\n                                    className=\"login_Input\"\n                                    type=\"text\"\n                                    name=\"description\"\n                                    onChange={this.handleChange}\n                                    required\n                                />\n                            </div>\n                            <div className=\"login_input_container\">\n                                <label className=\"login_label\">Image</label>\n                                <input\n                                    className=\"login_Input\"\n                                    type=\"file\"\n                                    name=\"image\"\n                                    id=\"file\"\n                                    required\n                                />\n                            </div>\n                            <div className=\"login_button_container\">\n                                <input className=\"login_button\" type=\"submit\" value=\"Add Image\" />\n                            </div>\n                        </form>\n                    )\n                }\n\n\n                <div className=\"home_art_parent\">\n                    {!isLoaded ? (\n                        <h1>Loading...</h1>\n                    ) : (\n                        paintings_home.map((paint) => (\n                            <div className=\"home_art_container\" key={paint._id}>\n                                <div className=\"home_art_img_container\">\n                                    <img\n                                        className=\"home_art_img\"\n                                        src={`${process.env.REACT_APP_URL}/uploads/${paint.image}`}\n                                        alt={paint.description}\n                                        width={400}\n                                    />\n                                </div>\n                                <div>\n                                    <h3 className=\"home_art_title\">{paint.title}</h3>\n                                    <p className=\"home_art_paragraph\">{paint.description}</p>\n                                </div>\n                                <button id=\"\">delete</button>\n                            </div>\n                        ))\n                    )}\n                </div>\n            </section>\n        );\n    }\n}\n\nexport default ArtSectionHome;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}